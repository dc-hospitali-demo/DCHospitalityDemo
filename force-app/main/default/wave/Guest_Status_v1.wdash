{"dataSourceLinksInfo":{"enableAutomaticLinking":true,"excludeRelationships":[],"links":[]},"filters":[],"gridLayouts":[{"name":"Default","numColumns":50,"pages":[{"label":"Untitled","name":"1f01fa47-3d53-490e-b8ca-757da4e17f0b","navigationHidden":false,"widgets":[{"colspan":43,"column":0,"name":"container_1","row":1,"rowspan":9,"widgetStyle":{"backgroundColor":"#F2F2F2","borderColor":"#747474","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":12,"column":0,"name":"text_1","row":2,"rowspan":3,"widgetStyle":{"backgroundColor":"#F2F2F2","borderColor":"#747474","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":8,"column":12,"name":"text_2","row":2,"rowspan":3,"widgetStyle":{"backgroundColor":"#03A678","borderEdges":[],"borderRadius":4}},{"colspan":20,"column":0,"name":"text_3","row":6,"rowspan":3,"widgetStyle":{"borderEdges":[]}}]}],"rowHeight":"fine","selectors":[],"style":{"alignmentX":"left","alignmentY":"top","backgroundColor":"#F2F6FA","cellSpacingX":8,"cellSpacingY":0,"fit":"original","gutterColor":"#C5D3E0"},"version":1.0}],"layouts":[],"steps":{"Current_Guest_1":{"broadcastFacet":true,"groups":[],"label":"Current_Guest","numbers":[],"query":"q = load \"Guest\";\nq = foreach q generate Id as 'ContactId';","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"sync","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"Guest_Stay_Status_1":{"broadcastFacet":true,"groups":[],"label":"Guest_Stay_Status","numbers":[],"query":"q = load \"Reservation\";\n-- q = filter q by 'Id' == \"{{cell(Current_Guest_1.result, 0, \"ContactId\").asString()}}\";\nq = foreach q generate case when {{cell(lens_2.result, 0, \"Cnt\").asString()}} > 0 then \"Guest is currently staying at the Property\" else \"Guest is not staying at the Property\" end as 'Guest Stay Status';\nq = limit q 1;","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"sync","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"lens_1":{"broadcastFacet":true,"dataspace":"default","groups":[],"label":"lens_1","numbers":[],"query":"SELECT \"ssot__Individual__dlm\".\"ssot__Id__c\" AS \"Guest__c\", \"Guest_Classification__cio\".\"Customer_Class__c\" AS \"Customer Class\" FROM \"Guest_Classification__cio\" JOIN \"ssot__Individual__dlm\" ON \"Guest_Classification__cio\".\"Guest__c\" = \"ssot__Individual__dlm\".\"ssot__Id__c\" WHERE \"ssot__Individual__dlm\".\"ssot__Id__c\" = '{{cell(Current_Guest_1.result, 0, \"ContactId\").asString()}}'","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"cdp","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"sync","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"lens_2":{"broadcastFacet":true,"groups":[],"numbers":[],"query":"SELECT COUNT(Id) Cnt FROM Reservation__c WHERE (Check_in_Date__c <= TODAY AND Check_out_Date__c >= TODAY) AND Reservation_Status__c = 'Confirmed' AND Contact__c = '{{cell(Current_Guest_1.result, 0, \"ContactId\").asString()}}'","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"soql","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"sync","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}}},"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#747474","borderEdges":[],"borderRadius":0,"borderWidth":1},"widgets":{"container_1":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original","interactions":[]},"type":"container"},"text_1":{"parameters":{"content":{"richTextContent":[{"attributes":{"color":"#091a3e","size":"16px"},"insert":"Customer Classification:"},{"attributes":{"align":"left"},"insert":"\n"}]},"interactions":[],"showActionMenu":true},"type":"text"},"text_3":{"parameters":{"content":{"richTextContent":[{"attributes":{"bold":true},"insert":"[Guest_Stay_Status]"},{"attributes":{"align":"left"},"insert":"\n"}],"values":{"Guest_Stay_Status":{"field":"Guest Stay Status","sourceType":"result","step":"Guest_Stay_Status_1"}}},"interactions":[],"showActionMenu":true},"type":"text"},"text_2":{"parameters":{"conditionalFormattingSource":{"field":"Customer Class","scope":"widget","step":"lens_1"},"content":{"richTextContent":[{"attributes":{"color":"#ffffff","bold":true},"insert":"[Customer_Class]"},{"attributes":{"align":"center"},"insert":"\n"}],"values":{"Customer_Class":{"field":"Customer Class","sourceType":"result","step":"lens_1"}}},"interactions":[],"showActionMenu":true},"type":"text"}}}